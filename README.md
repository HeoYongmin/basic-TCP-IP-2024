# basic-TCP-IP-2024
TCP/IP 소켓 프로그래밍

## 1일차 (2024-06-11)
- cmd에서 ipconfig를 치면 Windows IP 구성 창이 뜸

- 전송방식 : TCP / UDP

- 소 -> 소켓(socket)
- 말 -> 바인더(bind)
- 리 -> 리슨(listen)
- 아 -> 엑셉트(accept)

- 연결지향형 소켓 = TCP

- 비 연결지향형 소켓 = UDP

- Part1
    - 네트워크 프로그래밍
        - 소켓이라는 것을 기반으로 프로그래밍을 하기 때문에 소켓 프로그래밍이라고도 함.
        - 네트워크로 연결된 둘 이상의 컴퓨터 사이에서의 데이터 송수신 프로그램의 작성을 의미
    - 소켓
        - 네트워크(인터넷)의 연결 도구
        - 운영체제에 의해 제공이 되는 소프트웨어적인 장치
        - 소켓은 프로그래머에게 데이터 송수신에 대한 물리적, 소프트웨어적 세세한 내용을 신경x

    - 연결요청을 허용하는 소켓의 생성과정ㄹ
        1. 소켓의 생성 - socket 함수호출
        2. IP와 PORT번호의 할당 - bind 함수호출
        3. 연결요청 가능상태로 변경 - listen 함수호출
        4. 연결요청에 대한 수락 - accept함수호출


## 2일차 (2024-06-12)
- Part3
    - 인터넷 주소란 
        - 인터넷상에서 컴퓨터를 구분하는 목적으로 사용되느 주소.
        - 4바이트 주소체계인 IPv4와 16바이트 주소체계인 IPv6가 존재
        - 소켓을 생성할 떄 기본적인 프로토콜을 지정
        - 네트워크 주소와 호스트 주소로 나뉜다. 네트워크 주소를 이용해서    네트워크를 찾고, 호스트 주소를 이용해서 호스트를 구분
    
    - PORT 번호
        - IP는 컴퓨터를 구분하는 용도로 사용, PORT번호는 소켓을 구분하는 용도로 사용
        - 하나의 프로그램 내에서는 둘 이상의 소켓이 존재할 수 있으므로, 둘 이상의 PORT가 하나의 프로그램에 의해 할당
        - PORT번호는 16비트로 표현, 따라서 그 값은 0~65535이하

    - IP주소와 PORT번호는 구조체 sockaddr_in의 변수에 담아서 표현

    - 구조체 sockaddr_in의 멤버에 대한 분석
        - 멤버 sin_family
            - 주소체계 정보 저장
        - 멤버 sin_port
            - 16비트 PORT번호 저장
            - 네트워크 바이트 순서로 저장
        - 멤버 sin_addr
            - 32비트IP주소정보 저장
            - 네트워크 바이트 순서로 저장
            - 멤버 sin_addr의 구조체 자료형 in_addr 사실상 32비트 정수자료형
        - 멤버 sin_zero
            - 특별한 의미를 지니지 않는 멤버
            - 반드시 0으로 채워야함
        - AF_INET : IPv4 인터넷 프로토콜에 적용
        - AF_INET6 : IPv6인터넷 프로토콜에 적용

    - 바이트 순서와 네트워크 바이트 순서
        - 빅 엔디안
            - 상위 바이트의 값을 작은 번지수에 저장
        - 리틀 엔디안
            - 상위 바이트의 값을 큰 번지수에 저장

    - 바이트의 변환함수
        - htons에서 h는 호스트(host) 바이트 순서를 의미
        - htons에서 n은 네트워크(network) 바이트  순서를 의미 
        - htons에서 s는 자료형 short를 의미
        - htonl에서 l은 자료형 long을 의미

    - INADDR_ANY
        - 현재 실행중인 컴퓨터의 IP를 소켓에 부여할 때 사용되는 것 

- Part4
    - TCP/IP 프로토콜 스택이란?
        - 인터넷 기반의 데이터 송수신을 목적으로 설계된 스택
        - 큰 문제를 작게 나눠서 계층호 ㅏ한 결과
        - 데이터 송수신의 과정을 네 개의 영역으로 계층화 한 결과
        - 각 스택 별 영역을 전문화하고 표준화 함
        - 7계층으로 세분화가 되며, 4계층으로도 표현함

    - TCP/UDP 계층
        - 실제 데이터의 송수신과 관련 있는 계층
        - 그래서 전송 계층이라고도 함
        - TCP는 데이터의 전송을 보장하는 프로토콜, UDP는 보장하지 않는 프로토콜
        - TCP는 신뢰성을 보장하기 때문에 UDP에 비해 복잡한 프로토콜이다.

    - TCP 서버의 기본적인 함수 호출 순서
        - socket() 소켓생성
        - bind() 소켓 주소할당
        - listen() 연결요청 대기상태
        - accept() 연결허용
        - read()/write() 데이터 송수신
        - close() 연결종료

- Part5
    - TCP 소켓에 존재하는 입출력 버퍼
        - 입출력 버퍼는 TCP 소켓 각각에 대해 별도로 존재
        - 입출력 버퍼는 소켓생성시 자동으로 생성
        - 소켓을 닫아도 출력버퍼에 남아있는 데이터는 계속해서 전송이 이루어짐
        - 소켓을 닫으면 입력버퍼에 남아있는 데이터는 소멸
    
    - TCP 내부동작 원리
        - 상대 소켓과의 연결
        - 상대 소켓과의 데이터 송수신
        - 상대 소켓과의 연결종료
